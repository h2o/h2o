<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />

<!-- oktavia -->
<link rel="stylesheet" href="assets/searchstyle.css" type="text/css" />
<script src="search/jquery-1.9.1.min.js"></script>
<script src="search/oktavia-jquery-ui.js"></script>
<script src="search/oktavia-english-search.js"></script>
<!-- /oktavia -->

<link rel="stylesheet" href="assets/style.css" type="text/css" />

<title>Install - H2O - the optimized HTTP server</title>
</head>
<body>
<div id="body">
<div id="top">

<h1>
<a href="index.html">H2O</a>
</h1>
<p class="description">the optimized HTTP/1.x, HTTP/2, HTTP/3 server</p>

<!-- oktavia -->
<form id="searchform">
<input class="search" type="search" name="search" id="search" results="5" value="" placeholder="Search" />
<div id="searchresult_box">
<div id="close_search_box">&times;</div>
<div id="searchresult_summary"></div>
<div id="searchresult"></div>
<div id="searchresult_nav"></div>
<span class="pr">Powered by <a href="https://github.com/shibukawa/oktavia">Oktavia</a></span>
</div>
</form>
<!-- /oktavia -->

</div>

<table id="menu">
<tr>
<td><a href="index.html">Top</a></td>
<td class="selected"><a href="install.html">Install</a></td>
<td><a href="configure.html">Configure</a></td>
<td><a href="faq.html">FAQ</a></td>
<td><a href="http://blog.kazuhooku.com/search/label/H2O" target="_blank">Blog</a></td>
<td><a href="http://github.com/h2o/h2o/" target="_blank">Source</a></td>
</tr>
</table>

<div id="main">

<h2>
Install
</h2>


<h3 id="release-policy">Release Policy</h3>

<p>
As of April 2023, we have ceased to release versions.
Rather, the each commit to master branch is considered stable and ready for general use except for the features marked as experimental.
</p>

<h3 id="dependencies">Dependencies</h3>

<p>
H2O requires the following softwares to be installed:
<ul>
<li>C/C++ compiler (GCC or Clang)
<li>CMake
<li>pkg-config
<li>OpenSSL 1.0.2 or later, or a TLS stack compatible with OpenSSL<sup><a href="#note_1" id="#cite_1" title="At the time of writing, H2O can be built with libressl and boringssl.">1</sup></a></sup>
<li>zlib
</ul>
</p>

<p>
Additional softwares may be required for using certain features.
As an example, to build the <a href="configure/mruby_directives.html">mruby</a> handler, bison and ruby have to be installed.
</p>

<h3 id="from-source">Installing from Source</h3>

<p>
First, clone the master branch from <a href="https://github.com/h2o/h2o/">the source repository</a> as well as the submodules.
</p>
<pre><code>% git clone --recurse-submodules https://github.com/h2o/h2o.git
</code></pre>

<p>
Then, build the obtained source using <a href="http://www.cmake.org/">CMake</a><sup><a href="#note_2" id="#cite_2" title="CMake is a popular build tool that can be found as a binary package on most operating systems.">2</sup></a></sup>.
</p>

<pre><code>% cd h2o
% mkdir -p build
% cd build
% cmake ..
% make
% sudo make install
</code></pre>

<p>
When complete, H2O will be installed under <code>/usr/local</code>.
</p>

<p>
Start the installed server using the example configuration to confirm that it actually works (note: without the use of <code>-m</code> option the server runs as a foreground process; press <code>Ctrl-C</code> to stop).
</p>

<pre><code>% /usr/local/bin/h2o -c examples/h2o/h2o.conf
</code></pre>

<p>
Or if you'd like to start H2O without installing it, you can use the <code>H2O_ROOT</code> environment variable.
</p>

<pre><code>% H2O_ROOT=$PWD build/h2o -c examples/h2o/h2o.conf
</code></pre>

<p>
The example configuration starts a server that listens to port 8080 (HTTP) and port 8081 (HTTPS).  Try to access the ports using the protocols respectively (note: when accessing via HTTPS it is likely that you would see hostname mismatch errors reported by the web browsers).
</p>

<p>
When complete, proceed to <a href="configure.html">Configure</a> section for how to setup the server.
</p>

<h4>CMake Options</h4>

<p>
Following list shows the interesting arguments recognized by CMake.

<dl>
<dt><code>-DCMAKE_INSTALL_PREFIX=<i>directory</i></code></dt>
<dd>
This option specifies the directory to which H2O will be installed (default: <code>/usr/local</code>).
</dd>
<dt><code>-DWITH_MRUBY=<i>on</i>|<i>off</i></code></dt>
<dd>
This option instructs whether or not to build the standalone server with support for <a href="configure/mruby.html">scripting using mruby</a>.
It is turned on by default if the prerequisites (<a href="https://www.gnu.org/software/bison/">bison</a>, <a href="https://www.ruby-lang.org/">ruby</a> and the development files<sup><a href="#note_3" id="#cite_3" title="mkmf - a program for building ruby extensions is required.  In many distributions, the program is packaged as part of ruby-dev or ruby-devel package.">3</sup></a></sup>) are found.
</dl>
<dt><code>-DWITH_DTRACE=<i>on</i>|<i>off</i></code></dt>
<dd>
This option instructs whether or not to enable DTrace support.
It is turned on by default if the prerequisites (<a href="https://sourceware.org/systemtap/">SystemTap</a> on Linux, or DTrace on macOS) are found.
See also <a href="https://github.com/h2o/h2o/wiki/macOS">wiki/macOS</a> to use DTrace on macOS.
</dl>
<dt><code>-DWITH_H2OLOG=<i>on</i>|<i>off</i></code></dt>
<dd>
This option instructs whether or not to enable <code>h2olog(1)</code> support.
It is turned on by default if the prerequisites are found.
See also <a href="./configure/h2olog.html">h2olog</a> for details.
</dl>
<dt><code>-DOPENSSL_ROOT_DIR=/path/to/openssl</code></dt>
<dd>
On most platforms, OpenSSL is automatically found by the <a href="https://cmake.org/cmake/help/latest/module/FindOpenSSL.html" target=_blank>FindOpenSSL.cmake</a> module.
This option is used when the automatic detection fails or if an alternative version of the TLS stack is to be used.
</dd>
<dt><code>-DCMAKE_C_FLAGS=...</code></dt>
<dd>
This option can be used to add or override the compile options being passed to the C compiler.
As an example, <a href="https://en.wikipedia.org/wiki/AddressSanitizer">AddressSanitizer (ASan)</a> can be enabled when using recent versions of GCC or Clang, by passing <code>-DCMAKE_C_FLAGS="-fsanitize=address -fno-stack-protector -fno-omit-frame-pointer"</code>.
</dd>
<dt><code>-DCMAKE_BUILD_TYPE=Release|Debug</code></dt>
<dd>
This option specifies the build type, <code>Release</code> or <code>Debug</code>.
The default is <code>Release</code>.
</dd>
<dt><code>-DCMAKE_SHARED_LIBS=on|off</code></dt>
<dd>
This option indicates whether or not to build shared library (<code>libh2o.so</code>), it defaults to <code>OFF</code> which means it builds only static library (<code>libh2o.a</code>). If the value is <code>ON</code>, make sure the prerequisites are ready (for example, the shared libraries such as <code>libuv.so</code>, <code>libbrotlidec.so</code> ... etc. depends on your setup), and add the path of pkgconfig file (usually with suffix .pc) to the environment variable <a href="https://linux.die.net/man/1/pkg-config">PKG_CONFIG_PATH</a>.
</dd>
<dt><code>-DWITH_FUSION=on|off</code></dt>
<dd>
This option enables (<code>ON</code>) or disables (<code>OFF</code>) the support for accelerating <a href="https://en.wikipedia.org/wiki/Authenticated_encryption">AEAD</a> operation within the standalone server.
</dd>
</p>
<h3 id="binary">Installing a Binary Package</h3>

<p>
Thanks to others, H2O is provided as a binary package on some environments.
Up-to-date versions of H2O might be found at the following locations.
<ul>
<li><a href="https://www.freshports.org/www/h2o">FreeBSD h2o release</a> and <a href="https://www.freshports.org/www/h2o-devel">h2o betas</a></li>
<li><a href="https://formulae.brew.sh/formula/h2o">Homebrew (macOS)</a></li>
<li><a href="https://github.com/tatsushid/h2o-rpm">RPM (Fedora, RHEL/CentOS, OpenSUSE)</a></li>
<li><a href="https://hub.docker.com/r/lkwg82/h2o-http2-server/">Docker Image</a></li>
</ul>
</p>



<div class="notes">
<h3>Notes:</h3>
<ol>
<li id="note_1">At the time of writing, H2O can be built with libressl and boringssl.</li>
<li id="note_2">CMake is a popular build tool that can be found as a binary package on most operating systems.</li>
<li id="note_3"><code>mkmf</code> - a program for building ruby extensions is required.  In many distributions, the program is packaged as part of <code>ruby-dev<code> or <code>ruby-devel</code> package.</li>
</ol>
</div>

</div>
<div id="footer">
<p>
Copyright &copy; 2015-2023 <a href="http://dena.com/intl/">DeNA Co., Ltd.</a> et al.
</p>
</div>
</body>
</html>
